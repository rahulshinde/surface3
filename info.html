<!DOCTYPE html>
<html>
	<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title> script api test </title>
		<link rel="stylesheet" type="text/css" href="css/main.css">
		<script src="scripts/prefixfree.min.js"></script>
		
	</head>
	<body>	
		<div id="info-container">
			<div class="info-body">
				<div class="value-left">
					<p>
						static search: hanatarash [1]
						<br>
						youtube response:
						<br>
						https://www.youtube.com/watch?v=<span id="hanatarash-response"> </span>
						<br>
						<br>
						variable input: <span id="variable-input"> </span> [<span id="variable-num"> </span>]
						<br>
						youtube response: 
						<br>
						https://www.youtube.com/watch?v=<span id="youtube-response"></span>
						<br>
						imgur response:
						<br>
						<span id="imgur-response"></span>
						
					</p>
				</div>

				<div class="key-left">
					<img class="arrow" src="img/arrow-01.png">
					<p>
						<span id="array-heading">searchArray</span>
						<span id="array-list"></span>
					</p>
				</div>

				<div class="code-right">
					<p>
            getInfo = function getInfoF () {
            <br>
              <span class="tab1">var getHanatarash,</span>
                  getRandomVideo,
                  getRandomImage;

    var getHanatarash = $.ajax({
      url: "https://www.googleapis.com/youtube/v3/search?part=id%2C+snippet&q=hanatarash&maxResults=3&key=AIzaSyDmdYBSUbMtBe-YArhGfDR5d32RtKWwRwA",
      dataType: 'jsonp',
      type: 'GET'
    });


    var getRandomVideo = $.ajax({
      url: "https://www.googleapis.com/youtube/v3/search?part=id%2C+snippet&q=" + searchTerm + "&maxResults=1&key=AIzaSyDmdYBSUbMtBe-YArhGfDR5d32RtKWwRwA",
      dataType: 'jsonp',
      type: 'GET'
    });

    

    var getRandomImage = $.ajax({
      url: 'https://api.imgur.com/3/gallery/search.json',
      data: {
        q: searchTerm
      },
      type: 'GET',
      headers: {
        Authorization: 'Client-ID 77fc4712c0786c7'
      }
    });

    $.when( getRandomImage, getHanatarash, getRandomVideo ).then(infoLoaded);

  }

  infoLoaded = function infoLoadedF (data, data2, data3) {
    // console.log(data, data2, data3);

    if (data) {
      // Imgur

      var item = data;
      var imageId = item[0].data[0].link;
      console.log(imageId);


      SITE.image = imageId;
    }

    if (data2) {
      // hantarash
      var item = data2;
      var hanatarashId = item[0].items[1].id.videoId;
      SITE.hanatarash = hanatarashId;       
      
    }

    if (data3) {
      // youtube
      var item = data3;
      var youtubeId = item[0].items[0].id.videoId;
      console.log(youtubeId);
      SITE.video = youtubeId;
           
      
    }
    // console.log(SITE.image);
    // console.log(SITE.hanatarash);
    // console.log(SITE.video);
    $.when(infoLoaded).then(placeInfo);

  }

  placeInfo = function placeInfoF () {
    
    // insert hanatarash
    var videoHanatarash = '<iframe id="ytplayer" type="text/html" width="150" height="115" src="http://www.youtube.com/embed/' + SITE.hanatarash + '?autoplay=1&rel=0&showinfo=0&controls=0&modestbranding=1&origin=http://example.com" frameborder="0"/></iframe>';
    document.getElementById('hanatarash').innerHTML=videoHanatarash;
  
    //insert video
    var videoRandom = '<iframe id="ytplayer" type="text/html" width="500" height="350" src="http://www.youtube.com/embed/' + SITE.video + '?autoplay=1&rel=0&showinfo=0&controls=0&modestbranding=1&origin=http://example.com" frameborder="0"/></iframe>';
    document.getElementById('video').innerHTML=videoRandom;
  
    //insert image
    var imgRandom = '<img id="imgur" src="' + SITE.image +'">';
    document.getElementById('img').innerHTML=imgRandom;
    
  }
						
					</p>
				</div>
			</div>
			

			<div id="info-footer">
				<div class="rotate">
			  		<div class="line"><i></i></div>
					<div class="line"><i></i></div>
					<div class="line"><i></i></div>
					<div class="line"><i></i></div>
					<div class="text">PRESS ESC TO CLOSE</div>
				</div>
			</div>
			
		</div> <!-- end container -->
   
		<script src="scripts/jquery-1.11.2.min.js"></script>
		<script src="scripts/modernizr.js"></script>
    <script src="scripts/place-text.js"></script>

	</body>
</html>